/*

 ____ ___ _   _  ____    _    _   _ ____  _____ ____
|  _ \_ _| \ | |/ ___|  / \  | \ | / ___|| ____/ ___|
| |_) | ||  \| | |  _  / _ \ |  \| \___ \|  _|| |
|  __/| || |\  | |_| |/ ___ \| |\  |___) | |__| |___
|_|  |___|_| \_|\____/_/   \_\_| \_|____/|_____\____|


*/function SelectDiv(t,e){this.items=t,this.doms=e,t.click(function(t){$(t.currentTarget).index();e.hide(),e.eq($(t.currentTarget).index()).show()})}function TipShow(t,e){this.items=t,this.doms=e,this.init()}function SelectItem(t,e,i){this.items=t,t.click(function(n){if(n.preventDefault(),$(this).hasClass("current")){if(i&&1==t.filter(".current").length)return!1;$(this).removeClass("current")}else e||this.items.removeClass("current"),$(n.currentTarget).addClass("current")}.bind(this))}function SelectItemHref(t,e,i){this.items=t,t.click(function(n){if(n.preventDefault(),$(this).hasClass("current")){if(i&&1==t.filter(".current").length)return!1;$(this).removeClass("current")}else e||this.items.removeClass("current"),window.location.href=$(n.currentTarget).attr("hr"),$(n.currentTarget).addClass("current")}.bind(this))}function Map(){this.container=new Object}function SlideButton(t,e){this.btn=t,this.content=e,this.mouseOn=!1;var i=this;this.btn.on({click:function(){i.content.toggle()},mouseenter:function(){i.mouseOn=!0,i.content.show()},mouseleave:function(){i.mouseOn=!1,i.hideContent()}}),this.content.on({mouseenter:function(){i.mouseOn=!0},mouseleave:function(){i.mouseOn=!1,i.hideContent()}})}function SelectHandler(t,e,i){this.items=t;var n=this;t.click(function(o){if(o.preventDefault(),$(this).hasClass("current")){if(i&&1==t.filter(".current").length)return!1;$(this).removeClass("current")}else e||$(this).siblings().removeClass("current"),$(this).addClass("current");return n.selected($(this)),!0})}function initPlaceHolder(t){$.browser.msie&&(t=t&&t.length>0?t:$("[placeholder]")).each(function(){var t=$(this);if(!t.attr("data-placeholdered")){t.attr("data-placeholdered","true");var e=function(e){t.val()===t.attr("placeholder")&&t.css("color","").val("")},i=function(e){t.val()||t.css("color","#ababab").val(t.attr("placeholder"))};if("password"!=t.attr("type"))t.bind("blur",i),t.bind("click",e),t.bind("keydown",e),i();else{var n=function(t,e){e?t.css("display","none").attr("disabled",!0):t.css("display","").attr("disabled",!1)},o=$(t[0].outerHTML.replace(/password/g,"text"));o.removeAttr("name").removeAttr("id"),n(t,!0),o.focus(function(){n(t,!1),n(o,!0),t.val("").focus()}),t.blur(function(){t.val()||(n(o,!1),n(t,!0))}),o.css("color","#ababab").val(t.attr("placeholder")),t.parent().append(o)}}})}function Popover(t,e){this.obj=t,t.tip=e,this.isDefaultPip=!0,/left|right|top|bottom|innerLeft|innerRight/g.test(e)||1!=$(e).length?t.pop=$("<div class='form-msg'></div>"):(t.pop=$(e),this.isDefaultPip=!1)}function malert(t,e,i){var n=.2,o=9999;null!=i&&(n=null==i.opacity?n:i.opacity,o=null==i["z-index"]?o:i["z-index"]);var a="<div id='malert_mask' style='position:absolute;display:none;z-index:"+o+";top:0;left:0; width:100%; height:100%;background-color:black;filter:alpha(opacity="+100*n+");-moz-opacity:"+n+";opacity:"+n+";'></div>";0!=$("#malert_mask").length&&$("#malert_mask").remove(),$("body").append(a);var s=$("#malert_mask"),r=$(window).height()-t.css({position:"absolute","z-index":o+1}).height();r<0&&(r=100),t.css({top:r/3+"px",left:"50%","margin-left":"-"+t.width()/2+"px"}),t.show(),s.show(),s.tap(function(){t.hide(),s.hide(),s.remove()}),e&&e.tap(function(){t.hide(),s.hide(),s.remove()})}function FormItem(t,e){this.obj=t,this.type=t.attr("type"),this.name=t.attr("name"),this.placeholder=t.attr("placeholder"),this.des=t.attr("des"),this.ajax=t.attr("ajax"),this.hastip=t.attr("hastip")?t.attr("ajaxmsg"):"",this.ajaxMsg=t.attr("ajaxmsg")?t.attr("ajaxmsg"):"验证失败",this.compare=t.attr("compare"),this.obj.blur=this.onblur(),this.errors=new Array,this.popover=new Popover(t,void 0==t.attr("msgtip")?"right":t.attr("msgtip")),this.mpopover=e||"",this.obj.keypress=this.keypress(),this.obj.FormItem=this}function mForm(t,e){this.obj=t,this.isAjax=!1;var i=this;t.submit(function(e){for(var n=0;n<t.items.length;n++){var o=t.items[n];if(o.validate(),o.errors.length>0)return e.preventDefault(),!1}return i.beforeSubmit()?!i.isAjax||($.ajax({data:i.obj.serialize(),type:"POST",timeout:1e4,dataType:"json",url:i.obj.attr("action"),success:function(t){i.afterSubmit(t)},error:function(){i.submitError()},complete:function(){i.completeSubmit()},beforeSend:function(){i.loadDate()}}),e.preventDefault(),!1):(e.preventDefault(),!1)}),this.initItems=function(){t.items=new Array,t.find("[name]").each(function(){t.items.push(new FormItem($(this),e))})},this.initItems()}function ContentUtil(t){this.obj=t}function URLHandler(t){this.url=t,this.uri=t,this.basePath=this.uri,this.absolutePath=this.uri,this.params=new Map,this.init()}function PageHandler(t){this.init(t)}function success_callback(t){PcUser.successOrNOLogin(t)}var RSF={regist:function(t,e){e=e||function(){};for(var i=t.split("."),n=window,o=0;o<i.length;o++){if(o!=i.length-1)void 0===n[i[o]]&&(n[i[o]]={});else{if(void 0!==n[i[o]])throw t+"命名空间重复,请修改！";n[i[o]]=e}n=n[i[o]]}},log:function(t){"undefined"==typeof console||console.log(t)},callIndex:0,callBacks:[],addCallback:function(t){var e=++this.callIndex;return this.callBacks[e]=t,e},excuteCallback:function(t){this.callBacks[t]&&this.callBacks[t]()},get_json_cross_domain:function(t,e,i){var n=this.addCallback(i);-1==t.indexOf("?")?t+="?":t+="&";for(k in e)t+=k+"="+encodeURIComponent(e[k])+"&";t+="callback="+encodeURIComponent("RSF.callBacks["+n+"]");var o=document.createElement("script");o.type="text/javascript",o.async=!0,o.src=t,document.body.appendChild(o)},getKeys:function(t){var e=[];for(k in t)e.push(k);return e},copyJson:function(t){var e={};for(k in t)e[k]=t[k];return e},deepCopyJson:function(t,e){if("object"==typeof t){if(t instanceof Array){e||(e=new Array);for(var i=t.length,n=0;n<i;n++)"object"!=typeof t[n]?e[n]=t[n]:(t[n]instanceof Array?e[n]=new Array:e[n]=new Object,this.deepCopyJson(t[n],e[n]))}else{e||(e=new Object);for(var o in t)"object"!=typeof t[n]?e[o]=t[o]:(t[o]instanceof Array?e[o]=new Array:e[o]=new Object,this.deepCopyJson(t[o],e[o]))}return e}return t},getCookie:function(t){for(var e=document.cookie.split("; "),i=0;i<e.length;i++){var n=e[i].split("=");if(n[0]==t)return n[1]||""}return""},setCookie:function(t,e,i,n,o,a){var s=new Date;s.setTime(s.getTime()+i),document.cookie=escape(t)+"="+escape(e)+(s?"; expires="+s.toGMTString():"")+(n?"; path="+n:"/")+(o?"; domain="+o:"")+(a?"; secure":"")},getParent:function(t,e,i){t.extend=e,t.extend.apply(t,i),t.extend=null,delete t.extend}};Function.prototype.bind||(Function.prototype.bind=function(t){var e=this;return function(){return e.apply(t,arguments)}}),Array.prototype.each=function(t){for(var e=0;e<this.length;e++)t(e,this[e])},Array.prototype.removeAtIndex=function(t){return this.slice(t,1)},String.prototype.reverse=function(){return this.split("").reverse().join("")},RSF.regist("SimpleAnimations"),$.fn.extend({clickShow:function(t){$(this).click(function(e){e.stopPropagation(),t.css("display","none"===t.css("display")?"block":"none")})},hoverShow:function(t,e){if(!t||t.length<1)return!1;var i=function(i){i.mouseenter(function(e){t.attr("actived","actived"),t.show()}).mouseleave(function(i){t.attr("actived",""),setTimeout(function(){t.attr("actived")||t.hide()},e||500)})};i($(this)),i(t)},scrollFixed:function(t){var e=$(this);t=t||0;var i=e[0].offsetTop,n=e.clone().attr("style","display:none;filter:alpha(opacity=0);-moz-opacity:0;opacity:0;");e.after(n);var o=function(o){i=e[0].offsetTop||i;var a=document.documentElement.scrollTop||document.body.scrollTop;if(a>i-t?(e.css({position:"fixed",top:t+"px","z-index":"9"}),n.show()):(n.hide(),e.removeAttr("style")),-1!=location.href.lastIndexOf("#")){var s=location.href.substring(location.href.lastIndexOf("#")),r=$(s);if(!r.attr("data-avoidAnchro")){$("[data-avoidAnchro]").removeAttr("data-avoidAnchro"),r.attr("data-avoidAnchro","true");var c=e[0].offsetHeight;r.attr("data-avoidAnchroEvent")||($("[href$="+s+"]").click(function(t){var e=t.currentTarget.href;$(e.substring(e.lastIndexOf("#"))).removeAttr("data-avoidAnchro")}),r.attr("data-avoidAnchroEvent","true")),window.scrollTo(0,a-c)}}};$(window).scroll(o),$(document).scroll(o)}}),RSF.regist("DetailFrame"),DetailFrame=function(){},DetailFrame.prototype={init:function(){}},SelectDiv.prototype={},TipShow.prototype={init:function(){this.move(),this.show(),this.hide()},move:function(){this.items.mousemove(function(t){var e=t.pageX+15,i=t.pageY+15;this.doms.css({top:i,left:e}),this.doms.html($(t.currentTarget).attr("tip"))}.bind(this))},show:function(){this.items.mouseover(function(t){this.doms.show()}.bind(this))},hide:function(){this.items.mouseout(function(t){this.doms.hide()}.bind(this))}},SelectItem.prototype={},SelectItemHref.prototype={},RSF.regist("Util"),Map.prototype={put:function(t,e){this.container[t]=e},get:function(t){return this.container[t]},keySet:function(){var t=new Array,e=0;for(var i in this.container)"extend"!=i&&(t[e]=i,e++);return t},size:function(){var t=0;for(var e in this.container)"extend"!=e&&t++;return t},remove:function(t){delete this.container[t]}},Date.prototype.format=function(t){var e={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),"S+":this.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(var i in e)if(new RegExp("("+i+")").test(t)){for(var n="",o=1;o<=RegExp.$1.length;o++)n+="0";var a="";if(1==RegExp.$1.length)a=e[i];else{n+=e[i];var s=(""+e[i]).length;a=n=n.substr(s)}t=t.replace(RegExp.$1,a)}return t.replace(/NaN-aN-aN/g,"")},String.prototype.isUrl=function(){return new RegExp("^[A-Za-z]+://[A-Za-z0-9-_]+\\.[A-Za-z0-9-_%&?/.=]+$").test(this)},String.prototype.isEmail=function(){return/(^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$)/.test(this)},String.prototype.isDomain=function(){for(var t=this,e=new RegExp(/^((([A-Za-z0-9_-\u4E00-\u9FA5])|(\*))+\.)?([A-Za-z0-9_-\u4E00-\u9FA5]{1,200})$/),i=new Array(".gov.mo",".com.tw",".com.mo",".co.cc",".ce.ms",".osa.pl",".c.la",".com.hk",".net.in",".edu.tw",".org.tw",".bij.pl",".ac.cn",".ah.cn",".bj.cn",".com.cn",".cq.cn",".fj.cn",".gd.cn",".gov.cn",".gs.cn",".gx.cn",".gz.cn",".ha.cn",".hb.cn",".he.cn",".hi.cn",".hk.cn",".hl.cn",".hn.cn",".jl.cn",".js.cn",".jx.cn",".ln.cn",".mo.cn",".net.cn",".nm.cn",".nx.cn",".org.cn",".qh.cn",".sc.cn",".sd.cn",".sh.cn",".sn.cn",".sx.cn",".tj.cn",".tw.cn",".xj.cn",".xz.cn",".yn.cn",".zj.cn",".nl.ae",".org.uk",".org.nz",".org.bz",".org.au",".com.nu",".com.my",".com.au",".co.uk",".co.kr",".co.jp",".nu.ae",".nl.ae",".com.au",".cf.gs",".com.cn",".net.cn",".org.cn",".edu.cn",".com",".cn",".mobi",".tel",".asia",".net",".org",".name",".me",".info",".cc",".hk",".biz",".tv",".la",".fm",".cm",".am",".sh",".us",".in",".ro",".ru",".hu",".tk",".co",".cx",".at",".tw",".ws",".vg",".vc",".uz",".to",".tl",".th",".tf",".tc",".st",".so",".sk",".sg",".sc",".pl",".pe",".nu",".nf",".ne",".my",".mu",".ms",".mo",".lv",".lt",".lc",".jp",".it",".io",".im",".ie",".gs",".gp",".gl",".gg",".gd",".fr",".fi",".eu",".edu",".dk",".de",".cz",".ch",".ca",".bi",".be",".au",".ae",".pw",".ly",".wang",".ren",".top",".club"),n=!1,o=0;o<i.length;o++){var a=i[o],s="(\\"+a+")$";new RegExp(s).test(t.toLowerCase())&&(n=!0),t=t.replace(a,"")}return!!n&&e.test(t)},String.prototype.isZipCode=function(){return/^[0-9]{6}$/.test(this)},String.prototype.isPhone=function(){return/((^(\+86)|(86))?(((\d{7,8})|(\d{4}|\d{3})-(\d{7,8})|(\d{4}|\d{3})-(\d{7,8})-(\d{4}|\d{3}|\d{2}|\d{1})|(\d{7,8})-(\d{4}|\d{3}|\d{2}|\d{1}))$))/.test(this)},String.prototype.isMobile=function(){return/^((\+86)|(86))*(\d{11})$/.test(this)},String.prototype.isNumber=function(){return/^[0-9\.]+$/.test(this)},String.prototype.isId=function(){return/^(^[1-9]\d{7}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}$)|(^[1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])((\d{4})|\d{3}[Xx])$)$/.test(this)},String.prototype.format=function(){var t=arguments;return this.replace(/\{(\d+)\}/g,function(e,i){return t[i]})},$.fn.longPress=function(){return},SlideButton.prototype.hideContent=function(){var t=this;window.setTimeout(function(){t.mouseOn||t.content.hide()},300)},SelectHandler.prototype={clear:function(){this.items.removeClass("current")},selected:function(t){}},Util.MobilePopover=function(t){this.obj=t||$(".container-content"),this.isDefaultPip=!0,this.pop=$("<div class='feedback'><span></span></div>"),$(".feedback").length<1&&this.obj.append(this.pop),this.timer=null},Util.MobilePopover.prototype={show:function(t,e){$(".feedback").is(":hidden")||clearTimeout(this.timer),this.pop.find("span").html(t),this.pop.show(),this.timer=setTimeout(function(){this.pop.hide(),e&&e()}.bind(this),2e3)},hide:function(){this.pop.hide(),clearTimeout(this.timer)}},Popover.prototype={show:function(t){this.obj.pop.html(t).show(),this.isDefaultPip&&this.position(this.obj.tip)},hide:function(){this.obj.pop.hide()},position:function(t){var e=this.obj;e.parent().append(e.pop),e.pop.css({position:"absolute",padding:"10px","white-space":"nowrap"});var i=e[0].offsetLeft,n=e[0].offsetTop,o=e[0].offsetWidth,a=e[0].offsetHeight,s=e.pop[0].offsetWidth,r=e.pop[0].offsetHeight;switch(t){case"left":i-=s,n=n+a/2-r/2;break;case"top":i+=s/2,n-=r;break;case"right":i+=o,n=n+a/2-r/2;break;case"bottom":i+=s/2,n+=a;break;case"innerLeft":i=i+o-s,n=n+a/2-r/2;break;case"innerRight":n=n+a/2-r/2}e.pop.css({left:i+"px",top:n+"px"})}},FormItem.prototype={keypress:function(){var t=this;t.obj.keypress(function(e){if(t.getLength()+1>Number(t.obj.attr("maxlength")))return e.preventDefault(),!1})},onblur:function(){var t=this;t.obj.blur(function(){t.validate()})},validate:function(){return this.obj.val()===this.placeholder&&this.obj.val(""),this.removeError(),!!this.checkLength()&&(!!this.checkType()&&(!!this.checkNull()&&(!!this.checkAjax()&&(!!this.checkCompare()&&(this.removeError(),!0)))))},checkType:function(){var t=!1,e=this.obj.val().replace(/\s*/g,"");if(""==e&&isNaN(Number(this.obj.attr("minlength"))))return!0;if(void 0==this.type||""==this.type)return!0;var i=new Array;-1!=this.type.indexOf(",")?i=this.type.replace(/\s*/g,"").split(","):i.push(this.type);for(var n=0;n<i.length;n++){if(type=i[n],type&&""!=type)switch(type){case"email":t=e.isEmail();break;case"number":t=e.isNumber();break;case"phone":t=e.isPhone();break;case"mobile":t=e.isMobile();break;case"zipcode":t=e.isZipCode();break;case"domain":t=e.isDomain();break;case"url":t=e.isUrl();break;case"id":t=e.isId();break;default:t=!0}if(t)break}return t||this.addError(2),t},getLength:function(){var t=this.obj.val().replace(/\s*/g,"").length;return t=/text|password/.test(this.type)?this.obj.val().length:t},checkLength:function(){var t=this.getLength();return!isNaN(Number(this.obj.attr("minlength")))&&t<Number(this.obj.attr("minlength"))?(0==t?this.addError(1):this.addError(2),!1):!(!isNaN(Number(this.obj.attr("maxlength")))&&t>Number(this.obj.attr("maxlength")))||(this.addError(2),!1)},checkNull:function(){var t=this.getLength();return"ture"!=this.obj.attr("notnul")||(0!=t&&""!=this.obj[0].value.replace(/\s*/g,"")||this.addError(3),!1)},checkAjax:function(){var t=!0;if(this.ajax){var e=this;$.ajax({url:this.ajax,async:!1,data:this.name+"="+this.obj.val(),success:function(i){i||(e.addError(3),t=!1)}})}return t},checkCompare:function(){if(!this.compare)return!0;var t=this.compare.split(","),e="";switch(t[0]){case"==":e="{0}和{1}不一致";for(var i=1;i<t.length;i++){var n=$(t[i]);if(this.obj.val()!=n.val())return this.addError(e.format(this.des,n.attr("des"))),!1}}return!0},addError:function(t){var e=void 0==this.obj.attr("des")?"":this.obj.attr("des"),i="";if(isNaN(Number(t)))i=t,this.errors.push(0);else{switch(t){case 1:i="请输入"+e;break;case 2:i=e+"格式不正确";break;case 3:i=this.ajaxMsg}this.errors.push(t)}this.hastip?(this.mpopover.show(i),this.popover.show("")):this.popover.show(i)},removeError:function(){this.errors=new Array,this.popover.hide()}},mForm.prototype={getItem:function(t){for(var e=0;e<this.obj.items.length;e++){var i=this.obj.items[e];if(i.name==t)return i}},beforeSubmit:function(){return!0},submitError:function(){return!0},completeSubmit:function(){return!0},loadDate:function(){return!0},afterSubmit:function(t){return!0}},ContentUtil.prototype={setTitle:function(){this.obj.each(function(){$(this).attr("title",$(this).html())})},maxLength:function(){var t=this;this.obj.each(function(){var e=$(this).html(),i=$(this).attr("maxlength");void 0!=i&&($(this).data("html",e),e.length>i&&($(this).html(e.substring(0,i)+"<a more='on' href='javascript:void(0)'  style='color:#45a9ff;'>...更多</a>"),t.maxlengthfilter_bangding($(this).find("[more]"))))})},maxlengthfilter_bangding:function(t){var e=this;t.click(function(){var i=t.parent();"on"==t.attr("more")?i.html(i.data("html")+"<a more='off' href='javascript:void(0)' style='color:#45a9ff;'>&nbsp收起</a>"):i.html(i.data("html").substring(0,i.attr("maxlength"))+"<a more='on' href='javascript:void(0)' style='color:#45a9ff;'>…更多</a>"),e.maxlengthfilter_bangding(i.find("[more]"))})}},URLHandler.prototype={init:function(){var t=this.url.split("?");if(this.uri=t[0],this.url.split("/").length>3){var e=this.uri.split("/");this.basePath=e.splice(0,3).join("/"),this.absolutePath="/"+e[e.length-1]}if(-1==this.url.indexOf("?"))return!0;var i=t[1];i=-1==(i=-1===i.indexOf("#")?i:i.split("#")[0]).indexOf("&")?[i]:i.split("&");for(var n=0;n<i.length;n++)if(-1!=i[n].indexOf("=")){var o=i[n].split("=");this.params.put(o[0],decodeURIComponent(o[1]))}else this.params.put(i[n],i[n])},createUrl:function(){for(var t="",e="",i=0,n=this.params.keySet(),o=n.length;i<o;i++)t+=e+n[i]+"="+encodeURIComponent(this.params.get(n[i])),e="&";return""!=t?this.uri+"?"+t:this.uri},turn:function(){window.location.href=this.createUrl()}},PageHandler.prototype={init:function(t){this.content=t.content,this.pin=t.pin?t.pin:5,this.urlHandler=t.urlHandler,this.isAjax=!t.isAjax||t.isAjax,this.pContent=$(this.content.attr("page")),this.npage=void 0==t.npage?1:t.npage,this.spage=void 0==t.spage?1:t.spage,this.fpage=void 0!=t.fpage&&t.fpage,this.lpage=void 0!=t.lpage&&t.lpage,this.djudage=void 0!=t.djudage&&t.djudage,this.dnone=void 0==t.dnone?$(".data-no-tip"):t.dnone,this.content.find("[model]")&&(this.itemModel=this.content.find("[model]").clone().removeAttr("model").removeAttr("style")[0].outerHTML)},createPage:function(){for(var t=this,e=this.npage-this.pin>0?this.npage-this.pin:1,i=e+2*this.pin>this.spage?this.spage:e+2*this.pin,n="",o="<a href='javascript:void(0)' class='{0}' page='{1}'>{2}</a>",a=e=i-2*this.pin>0?i-2*this.pin:e;a<=i;a++){var s=a==this.npage?"current":"";n+=o.format(s,a,a)}this.npage>1&&(n=o.format("",Number(this.npage)-1,"上一页")+n,this.fpage&&(n=o.format("",1,"首页")+n)),this.npage<this.spage&&(n+=o.format("",Number(this.npage)+1,"下一页"),this.fpage&&(n+=o.format("",Number(this.spage),"尾页"))),n=this.npage==this.spage&&1==this.npage?"":n,this.pContent.find("p").html(n),this.pContent.find("a").click(function(){t.go($(this).attr("page"))})},go:function(t){(t=Number(t))>0&&t<=this.spage&&(this.npage=t,this.urlHandler.params.put("page",t),this.isAjax?this.loadData():this.urlHandler.turn())},loadData:function(){var t=this;$.getJSON(this.urlHandler.createUrl(),{},function(e){this.dataBackNone(e),t.content.html("");for(var i=e.list,n=0;n<i.length;n++){var o=i[n];t.content.append(t.formateItem(n,t.itemModel,o))}t.spage=e.page_count,t.createPage()}.bind(this))},dataBackNone:function(t){this.djudage&&(0==t.list.length?this.dnone.show():this.dnone.hide())},formateItem:function(t,e,i){}},RSF.regist("Util.device"),Util.device={isIphone:function(){return/(iPhone|iPad|iPod|iOS)/i.test(navigator.userAgent)},isAndroid:function(){return/(Android)/i.test(navigator.userAgent)},isMobile:function(){return this.isIphone()||this.isAndroid()}},Util.getSerial=function(){var t=parseInt((new Date).getTime()/1e3)-DIS;t+="";for(var e=md5(t).split(""),i=0;i<t.length;i++)e[2*i]=t[i];return e.join("")},jQuery.extend({postJSON:function(t,e,i){$.post(t,e,function(t){i.call(this,t)})}}),RSF.regist("Util.DatePicker"),Util.DatePicker=function(){this.maxYear="",this.minYear="",this.date=null,this.container=null},Util.DatePicker.prototype={leftZero:function(t){return t=parseInt(t),t>=10?t:"0"+t},getDateIndex:function(){return this.container.find(".picker_year").val()+this.leftZero(this.container.find(".picker_month").val())+this.leftZero(this.container.find(".picker_day").val())},getDateString:function(){return this.container.find(".picker_year").val()+"-"+this.leftZero(this.container.find(".picker_month").val())+"-"+this.leftZero(this.container.find(".picker_day").val())},setDateByNum:function(t,e,i){var n=new Date;n.setFullYear(t),n.setMonth(e-1),n.setDate(i),this.setDate(n)},setDate:function(t){this.curYear=t.getFullYear(),this.curMonth=t.getMonth()+1,this.curDay=t.getDate(),this.container.find(".picker_year").val(this.curYear),this.container.find(".picker_month").val(this.curMonth),this.initDay()},setDefault:function(){this.date=new Date,this.curYear=this.date.getFullYear(),this.curMonth=this.date.getMonth()+1,this.curDay=this.date.getDate(),this.maxYear||(this.maxYear=2023),this.minYear||(this.minYear=1970),this.initYear(),this.initMonth(),this.initDay()},init:function(t){this.container=t,this.setDefault()},initYear:function(){this.container.find(".picker_year")[0]||$('<select class="picker_year"></select>').appendTo(this.container);for(var t=0,e=this.minYear;e<=this.maxYear;e++){var i=new Option(e+"年",e);this.container.find(".picker_year")[0].options[t++]=i}this.container.find(".picker_year").val(this.curYear),this.container.find(".picker_year").unbind("change"),this.container.find(".picker_year").change(function(t){this.curDay=this.container.find(".picker_day").val(),this.initDay()}.bind(this))},initMonth:function(){this.container.find(".picker_month")[0]||$('<select class="picker_month"></select>').appendTo(this.container);for(var t=0,e=1;e<=12;e++){var i=new Option(e+"月",e);this.container.find(".picker_month")[0].options[t++]=i}this.container.find(".picker_month").val(this.curMonth),this.container.find(".picker_month").unbind("change"),this.container.find(".picker_month").change(function(t){this.curDay=this.container.find(".picker_day").val(),this.initDay()}.bind(this))},getDaysByMonth:function(t,e){if(t=parseInt(t),e=parseInt(e),!t||!e)return 31;var i=e%400==0||e%4==0&&e%100!=0;if(2==t)return i?29:28;switch(t){case 1:case 3:case 5:case 7:case 8:case 10:case 12:return 31;default:return 30}},initDay:function(){this.container.find(".picker_day")[0]||$('<select class="picker_day"></select>').appendTo(this.container);var t=0,e=this.getDaysByMonth(this.container.find(".picker_month").val(),this.container.find(".picker_year").val());this.container.find(".picker_day")[0].options.length=0;for(var i=1;i<=e;i++){var n=new Option(i+"日",i);this.container.find(".picker_day")[0].options[t++]=n}this.curDay>e&&(this.curDay=1),this.container.find(".picker_day").val(this.curDay)}},RSF.regist("Util.getWeiboLength"),Util.getWeiboLength=function(t){for(var e=0,i=0;i<t.length;i++)t.charCodeAt(i)>255?e++:e+=.5;return Math.ceil(e)},RSF.regist("Util.InputControl"),Util.InputControl=function(){this.inputId="",this.maxNum="",this.overCallback=function(){},this.lastValue="",this.valueChangeCallback=function(){}},Util.InputControl.prototype={init:function(t,e,i,n){i=i||function(){},n=n||function(){},this.inputId="#"+t,this.maxNum=e,this.overCallback=n,this.valueChangeCallback=i,this.bindEvent()},bindEvent:function(){$(this.inputId).unbind("propertychange"),$(this.inputId).unbind("input"),$(this.inputId).bind("propertychange input",this.valueChange.bind(this))},valueChange:function(t){var e=Util.getWeiboLength($(this.inputId).val());e>this.maxNum?($(this.inputId).val(this.lastValue),this.overCallback()):this.valueChangeCallback(e),this.lastValue=$(this.inputId).val()}},RSF.regist("Util.TypePicker"),Util.TypePicker=function(){this.maxLevel=4,this.container=null,this.typeMain=$('<div class="typeMain" style="position: relative"></div>'),this.typeData={},this.checkIndex=4,this.contWidth=150},Util.TypePicker.prototype={setDefault:function(){this.typeName="",this.typeLevel=1,this.maxLevel||(this.maxLevel=4),this.contWidth||(this.contWidth=150),this.typeData||(this.typeData={firstSeed:0,firstName:"",secondSeed:0,secondName:"",thirdSeed:0,thirdName:"",fourthSeed:0,fourthName:""}),this.initTypeLevelDom(1)},init:function(t,e){e=e||function(){},this.overCallback=e,this.container=t,this.typeMain.appendTo(this.container),this.initTypeData(),this.setDefault()},initTypeLevelDom:function(t,e,i){var n="typeList"+t,o=$('<div  id="'+n+'" style="position: absolute;z-index: 111;background: white;"><ul style="border:1px solid #dcdcdc;"></ul></div>');this.container.find("#"+n)[0]||o.appendTo(this.typeMain);var a=$("#"+n),s=$("#"+n).find("ul");document.getElementById(n).style.width=this.contWidth+"px",document.getElementById(n).style.left=t>1?(this.contWidth-1)*(t-1)+"px":"0px",a.find("ul").html("");var r={action:"get_company_type_list",parent_id:0,level:1};switch(t){case 1:r.parent_id=0,r.level=1;break;case 2:r.parent_id=e,r.level=2;break;case 3:r.parent_id=e,r.level=3;break;case 4:r.parent_id=e,r.level=4}$.getJSON("/pc-search",r,function(e){if(e.data.length>0){for(var i="",n=0;n<e.data.length;n++)i+='<li><span  seed="'+e.data[n].id+'">'+e.data[n].name+"</span><i></i></li>";s.html(i)}switch(a.show(),t){case 2:$("#typeList3,#typeList4").find("ul").html(""),$("#typeList3,#typeList4").hide();break;case 3:$("#typeList4").find("ul").html(""),$("#typeList4").hide()}e.data.length>1&&t>1&&s.prepend(" <li><span>全部</span></li>"),new SelectHandler(s.find("li"),!1,!0),s.find("li").click(function(e){var i=$(e.currentTarget).find("span").attr("seed"),n=$(e.currentTarget).find("span").html();switch(t){case 1:this.initTypeData(),this.typeData.firstSeed=i,this.typeData.firstName=n,this.maxLevel>1?this.initTypeLevelDom(2,i,n):this.checkDone(1);break;case 2:if("全部"==$(e.currentTarget).find("span").html())$("#typeList3,#typeList4").find("ul").html(""),$("#typeList3,#typeList4").hide(),this.checkDone(1);else{var i=$(e.currentTarget).find("span").attr("seed"),n=$(e.currentTarget).find("span").html();this.typeData.secondSeed=i,this.typeData.secondName=n,this.maxLevel>2?this.initTypeLevelDom(3,i,n):this.checkDone(2)}break;case 3:"全部"==$(e.currentTarget).find("span").html()?($("#typeList4").find("ul").html(""),$("#typeList4").hide(),this.checkDone(2)):(this.typeData.thirdSeed=i,this.typeData.thirdName=n,this.maxLevel>3?this.initTypeLevelDom(4,i,n):this.checkDone(3));break;case 4:"全部"==$(e.currentTarget).find("span").html()?this.checkDone(3):(this.typeData.fourthSeed=i,this.typeData.fourthName=n,this.checkDone(4))}}.bind(this))}.bind(this))},checkDone:function(t){switch(t){case 1:this.setType(this.typeData.firstSeed,this.typeData.firstName,1),this.typeData.secondSeed=0,this.typeData.secondName="",this.typeData.thirdSeed=0,this.typeData.thirdName="",this.typeData.fourthSeed=0,this.typeData.fourthName="";break;case 2:this.setType(this.typeData.secondSeed,this.typeData.secondName,2),this.typeData.thirdSeed=0,this.typeData.thirdName="",this.typeData.fourthSeed=0,this.typeData.fourthName="";break;case 3:this.setType(this.typeData.thirdSeed,this.typeData.thirdName,3),this.typeData.fourthSeed=0,this.typeData.fourthName="";break;case 4:this.setType(this.typeData.fourthSeed,this.typeData.fourthName,4)}this.typeMain.hide(),this.overCallback()},initTypeData:function(){this.typeData={firstSeed:0,firstName:"",secondSeed:0,secondName:"",thirdSeed:0,thirdName:"",fourthSeed:0,fourthName:""}},setType:function(t,e,i){this.typeSeed=t,this.typeName=e,this.typeLevel=i},getTpyeName:function(){return this.typeName},getTypeLevel:function(){return this.typeLevel},getTpyeId:function(){return this.typeSeed},getTypeData:function(){return this.typeData}},RSF.regist("PcUser"),PcUser={userId:0,loginCallbackStack:[],unLoginCallbackStack:[],unlogin:!1,codeData:"",bsin:0,num:1,selector:".tologin-and-mask",isPhone:new RegExp(/^1[34578]{1}\d{9}$/),init:function(){this.checkLogin().then(function(t){this.userId=t,this.loginCallbackStack.each(function(e,i){i(t)})}.bind(this),function(){this.unlogin=!0,this.unLoginCallbackStack.each(function(t,e){e()})}.bind(this))},createOrShowLoginBox:function(){$(".nav .login-btn").length>0&&$(".nav .login-btn").live("click",function(){$(".tologin-and-mask").length>0?$(".tologin-and-mask").show():this.createLoginBox()}.bind(this))},addOnLoginEvent:function(t){this.userId?t(this.userId):this.loginCallbackStack.push(t)},addOnUnLoginEvent:function(t){this.unlogin?t():this.unLoginCallbackStack.push(t)},showLoginBox:function(){$(".nav .login-btn").click()},getToken:function(){return RSF.getCookie("shuidi_uid_token")},checkLogin:function(){return new Promise(function(t,e){var i=RSF.getCookie("shuidi_user_id");RSF.getCookie("shuidi_uid_token");i?t(i):e()})},syncLogin:function(t,e,i,n,o){},loginOut:function(){$.getJSON("/user",{action:"logout_user",timeStamp:(new Date).getTime()},function(){location.href="/"})},thirdLoginBindPhone:function(t){if(/MSIE (\d+\.\d+);/.test(navigator.userAgent)||/MSIE(\d+\.\d+);/.test(navigator.userAgent)){var e=document.createElement("a");e.href=t,document.body.appendChild(e),e.click()}else location.href=t},getReferrer:function(){return document.referrer},thirdLoginSuccess:function(t,e){try{if(t.url&&t.username&&t.vkey){RSF.setCookie("tour_url","",-1,"/",".shuidi.cn"),t.url.indexOf("?")<0?window.top.location=t.url+"?username="+t.username+"&sign="+t.vkey+"&userId="+t.uid:window.top.location=t.url+"&username="+t.username+"&sign="+t.vkey+"&userId="+t.uid}else e?location.href=e:"block"==$(".tologin-and-mask").css("display")?window.location.reload():this.getReferrer()?location.href=this.getReferrer():location.href="http://shuidi.cn/center/user"}catch(t){e?location.href=e:"block"==$(".tologin-and-mask").css("display")?window.location.reload():this.getReferrer()?location.href=this.getReferrer():location.href="http://shuidi.cn/center/user"}},setLoginBox:function(t){$(this.selector+" .other-tologin-link .sina").hover(function(){$(this).css("background-image",'url("//static.pacra.cn/shuidi/images/sina-icon2.png")')},function(){$(this).css("background-image",'url("//static.pacra.cn/shuidi/images/sina-icon.png")')}),$(this.selector+" .other-tologin-link .qq").hover(function(){$(this).css("background-image",'url("//static.pacra.cn/shuidi/images/qq-icon2.png")')},function(){$(this).css("background-image",'url("//static.pacra.cn/shuidi/images/qq-icon.png")')}),$(this.selector+" .other-tologin-link .wei-xin").hover(function(){$(this).css("background-image",'url("//static.pacra.cn/shuidi/images/weixin-icon2.png")')},function(){$(this).css("background-image",'url("//static.pacra.cn/shuidi/images/weixin-icon.png")')}),$(this.selector+" .register-or-find-password a").hover(function(){$(this).css("color","#00af64")},function(){$(this).css("color","#999")}),$(this.selector+" .btn").hover(function(){$(this).css("background-color","#0bc676")},function(){$(this).css("background-color","#00af64")}),$(this.selector+" .close-tologin-and-mask").click(function(){$(this.selector+" button strong").html("立即登录"),$(this.selector+" #login_username").val(""),$(this.selector+" #login_password").val(""),$(this.selector+" #prove_code").val(""),$(this.selector+" .error-msg").parent().hide(),$(this.selector+" .tologin-input1").css("border-color","#e0e0e0"),$(this.selector+" .input-count-limit").hide(),$(this.selector).hide()}.bind(this)),this.tologinInit()},setInputColor:function(t){$.browser.msie&&($.trim(t.val())!=t.attr("placeholder")&&""!=$.trim(t.val())||t.css("color","rgb(171, 171, 171)"))},tologinInit:function(t){this.selector=t||this.selector,initPlaceHolder($(this.selector+" input")),this.setInputColor($(this.selector+" #login_username")),this.setInputColor($(this.selector+" #prove_code")),this.setInputColor($(this.selector+" #login_username")),$(this.selector+" #login_username").blur(this.checkNameFormat.bind(this)),$(this.selector+" .code-refresh").click(function(){$(this.selector+" #prove_code").val(""),$(this.selector+" .code-refresh").attr("src","/checkcode?type=shuidi_pclogin&time="+new Date+Math.random())}.bind(this)),$(this.selector+" .login-form").submit(function(){try{$(this.selector+" button strong").html("登录中..."),this.checkNameFormat(this.checkPasswordFormat.bind(this))}catch(t){console.info(t)}return!1}.bind(this)),$(".register-or-find-password .find-password").mousedown(function(){location.href="/pcuser-find-password"}),$(".register-or-find-password .now-register").mousedown(function(){location.href="/pcuser-register"});var e=($(window).width()-800)/2+"px",i=($(window).height()-500)/2+"px",n=document.domain;$(this.selector+" .other-tologin-link .sina").click(function(){window.open("http://www.shuidixy.com/user/third/login?type=sina&newThird=third&domain="+n,"login_third"+(new Date).getTime(),"width=800,height=500,scrollbars=no,toolbar=no,left="+e+",top="+i)}.bind(this)),$(this.selector+" .other-tologin-link .qq").click(function(){window.open("http://www.shuidixy.com/user/third/login?type=qq&newThird=third&domain="+n,"login_third"+(new Date).getTime(),"width=800,height=500,scrollbars=no,toolbar=no,left="+e+",top="+i)}.bind(this)),$(this.selector+" .other-tologin-link .wei-xin").click(function(){window.open("http://www.shuidixy.com/user/third/login?type=weixin&newThird=third&domain="+n,"login_third"+(new Date).getTime(),"width=800,height=500,scrollbars=no,toolbar=no,left="+e+",top="+i)}.bind(this))},checkName:function(t){$.post("/pcuser-tologin",{user_name:$.trim($(this.selector+" #login_username").val()),action:"check_login"},function(e){this.codeData=e,e.status>0?($(this.selector+" button strong").html("立即登录"),$(this.selector+" .error-msg").parent().show(),$(this.selector+" #login_username").css("border-color","#00af64"),$(this.selector+" .error-msg").html(e.message)):(this.bsin=1,$(this.selector+" #login_username").css("border-color","#e0e0e0"),$(this.selector+" .error-msg").parent().hide(),$(this.selector+" .input-count-limit").hide(),"need-code"===e.data&&$(this.selector+" .input-count-limit").show(),"function"==typeof t&&t())}.bind(this),"json")},checkUserLogin:function(){var t={code:$.trim($(this.selector+" #prove_code").val()),user_name:$.trim($(this.selector+" #login_username").val()),password:$.trim($(this.selector+" #login_password").val())};$("#typev").val()&&"tour"==$("#typev").val()&&(t.type_v=$("#typev").val()),$.ajax({type:"post",url:"http://shuidi.cn/pcuser-tologin?action=to_login",data:t,dataType:"jsonp",jsonpCallback:"success_callback"})},successOrNOLogin:function(t){t.status>0?($(this.selector+" button strong").html("立即登录"),$(this.selector+" .error-msg").parent().show(),$(this.selector+" .error-msg").html(t.message),$(this.selector+" #prove_code").css("border-color","#e0e0e0"),$(this.selector+" #login_password").css("border-color","#00af64"),$(this.selector+" .input-count-limit").hide(),2==t.status&&($(this.selector+" #prove_code").css("border-color","#00af64"),$(this.selector+" #login_password").css("border-color","#e0e0e0"),$(this.selector+" .code-refresh").click(),$(this.selector+" .input-count-limit").show()),"need-code"===t.data&&1==this.bsin&&($(this.selector+" .input-count-limit").show(),$(this.selector+" .code-refresh").click())):($(this.selector+" input").val(""),this.thirdLoginSuccess(t.data))},checkNameFormat:function(t){$.trim($(this.selector+" #login_username").val())&&"手机号/邮箱"!=$.trim($(this.selector+" #login_username").val())?$.trim($(this.selector+" #login_username").val()).isEmail()||this.isPhone.test($.trim($(this.selector+" #login_username").val()))?this.checkName(t):($(this.selector+" button strong").html("立即登录"),$(this.selector+" .error-msg").parent().show(),$(this.selector+" .error-msg").html("请输入正确的用户名（手机/邮箱）"),$(this.selector+" #login_username").css("border-color","#00af64"),$(this.selector+" .input-count-limit").hide(),this.bsin=0):($(this.selector+" button strong").html("立即登录"),$(this.selector+" .error-msg").parent().show(),$(this.selector+" .error-msg").html("请输入用户名（手机/邮箱）"),$(this.selector+" #login_username").css("border-color","#00af64"),$(this.selector+" .input-count-limit").hide(),this.bsin=0)},checkPasswordFormat:function(){$.trim($(this.selector+" #login_password").val())&&"密码"!=$.trim($(this.selector+" #login_password").val())?"need-code"===this.codeData.data?$.trim($(this.selector+" #prove_code").val())&&"验证码"!=$.trim($(this.selector+" #prove_code").val())?this.checkUserLogin():($(this.selector+" button strong").html("立即登录"),$(this.selector+" .error-msg").parent().show(),$(this.selector+" #prove_code").css("border-color","#00af64"),$(this.selector+" #login_password").css("border-color","#e0e0e0"),$(this.selector+" .error-msg").html("请输入验证码")):this.checkUserLogin():($(this.selector+" button strong").html("立即登录"),$(this.selector+" .error-msg").parent().show(),$(this.selector+" .error-msg").html("请输入登录密码"),$(this.selector+" #login_password").css("border-color","#00af64"),$(this.selector+" #prove_code").css("border-color","#e0e0e0"),$(this.selector+" #login_password").siblings("input").css("border-color","#00af64"))},createLoginBox:function(){$('<div class="tologin-and-mask" num="1">            <form class="login-form">            <div class="tologin-and-mask-box" style="padding:24px 40px 20px;width:320px;background: #fff;position:fixed;left:50%;top:50%;margin-left:-200px;margin-top:-201px;z-index:100002">            <i class="close-tologin-and-mask" style="position:absolute;font-size:24px;line-height:24px;font-weight:100;right:13px;top:8px;color:#999;cursor:pointer;">×</i>            <div class="form-box" style="margin-bottom: 17px;">            <div class="tologin-tittle" style="font-size: 24px;line-height: 24px;margin-bottom:25px;text-align: center;">账号登录</div>            <div class="tologin-input-box">            <div class="tologin-input">            <input style="color:#444;width:301px;border:1px solid #e0e0e0;display: block;padding-left: 17px;line-height:48px;border-radius: 5px;font-size: 14px;background-color: #fff;" name="name" id="login_username" class="tologin-input1" type="text" placeholder="手机号/邮箱">            </div>            <div class="error-hint-box" style="padding:6px 0 13px 1px;float:left;width:100%;color:#ff5c57;font-size: 12px;line-height: 14px;"></div>            </div>            <div class="tologin-input-box">            <div class="tologin-input">            <input style="width:301px;border:1px solid #e0e0e0;display: block;padding-left: 17px;line-height:48px;border-radius: 5px;font-size: 14px;background-color: #fff;" name="password" id="login_password" class="tologin-input1" type="password" placeholder="密码">        </div>        </div>        <div class="tologin-input-box input-count-limit" style="overflow:hidden;position: relative;display:none;">                <div class="error-hint-box" style="padding:6px 0 13px 1px;float:left;width:100%;color:#ff5c57;font-size: 12px;line-height: 14px;"></div>                <div class="limit-input other-left" style="margin-right:10px;float:left;color:#444;">                <input style="color:#444;width:190px;border:1px solid #e0e0e0;display: block;padding-left: 17px;line-height:48px;border-radius: 5px;font-size: 14px;background-color: #fff;" name="prove-code" id="prove_code" class="tologin-input1" type="text" placeholder="验证码">                </div>                <div class="limit-code other-left" style="width:100px;height: 43px;border-radius: 5px;padding-top: 7px;float:left;">                <img class="code-refresh" src="/checkcode?type=shuidi_pclogin" alt="图片" style="cursor: pointer;width:100px;">            </div>            </div>        <div class="error-hint-box" style="padding:6px 0 13px 1px;float:left;width:100%;color:#ff5c57;font-size: 12px;line-height: 14px;">            <div class="error-hint" style="display: none;">            <i class="icon" style="padding:0;display: inline-block;border-radius: 50%;margin-right:5px;background:#ff5c57;color:#fff;width:14px;text-align: center;">×</i>            <span class="error-msg" id="proveCodeErrorInfo" for="prove_code">请输入正确的手机验证码</span>            </div>            </div>            <div>            <button class="btn" type="submit" style="border-radius: 4px; padding: 0px 10px;font-size:18px;cursor:pointer;background:#00af64;color:#fff;line-height:  50px;height:50px;width:100%;margin-bottom: 22px;">            <strong>立即登录</strong>            </button>            </div>            <div class="register-or-find-password" style="width:139px;margin:0 auto;overflow: hidden;line-height: 14px;">            <div class="now-register" style="float:left;padding-right:8px;border-right:2px solid #d0d0d0;">            <a href="/pcuser-register" style="color:#999;">立即注册</a>            </div>            <div class="find-password" style="float:left;padding-left:8px;">            <a href="/pcuser-find-password" style="color:#999;">忘记密码?</a>        </div>        </div>        </div>        <div class="other-tologin-way" style="overflow: hidden;line-height: 14px;">            <span style="float: left;width:102px;height:0;border-top:1px solid #e0e0e0;margin-top: 7px;"></span>            <p style="float: left;padding:0 7px;color:#a1a1a1;">第三方账户登录</p>            <span style="float: left;width:102px;height:0;border-top:1px solid #e0e0e0;margin-top: 7px;"></span>            </div>            <div class="other-tologin-link" style="padding:13px 75px 0;height:41px;overflow: hidden;">            <a href="javascript:;" class="sina" style="float: left;width:41px;height:41px;"></a>            <a href="javascript:;" class="qq" style="float: left;width:41px;height:41px;margin:0 23px;"></a>            <a href="javascript:;" class="wei-xin" style="float: left;width:41px;height:41px;"></a>            </div>            </div>            </form>            <div class="zhezhao" style="position:fixed;left:0;top:0;width:100%;height:100%;background-color:#000;opacity:0.6;filter:Alpha(opacity=60);z-index:100001;display:block;"></div></div>').appendTo($("body")),$(this.selector+" .other-tologin-link .sina").css("background-image",'url("//static.pacra.cn/shuidi/images/sina-icon.png")'),$(this.selector+" .other-tologin-link .qq").css("background-image",'url("//static.pacra.cn/shuidi/images/qq-icon.png")'),$(this.selector+" .other-tologin-link .wei-xin").css("background-image",'url("//static.pacra.cn/shuidi/images/weixin-icon.png")'),$(this.selector+" input").css("height","48px"),this.setLoginBox()}},PcUser.init(),RSF.regist("SimpleRequest"),SimpleRequest=function(){this.requesting=!1},SimpleRequest.prototype={init:function(){},ajax:function(t){if(t.locked=void 0!==t.locked&&t.locked,t.checkStatus=void 0===t.checkStatus||t.checkStatus,t.locked&&this.requesting)return console.info("请求过快，舍弃请求。"),!1;this.__lock();t.fnFail||this.__defaultFnFail;var e=function(e){this.requesting=!1,t.checkStatus?e&&0===e.status?t.fnSuccess(e.data):this.__defaultFnFail(e.message):t.fnSuccess(e)}.bind(this);t.error=t.fnFail||this.__defaultFnFail,t.fail=t.error,t.success=e,$.ajax(t)},__defaultFnFail:function(t){this.requesting=!1,"string"==typeof t?alert(t):console.log(t)},__lock:function(){this.requesting=!0,setTimeout(function(){this.requesting=!1}.bind(this),100)},form:function(t){var e=$("[name=simpleRequestIFrame]"),i=$('[target="simpleRequestIFrame"]');if(e.length<1&&((e=$('<iframe name="simpleRequestIFrame"></iframe>')).hide(),$("body").append(e)),i.length<1&&((i=$('<form target="simpleRequestIFrame"></form>')).hide(),$("body").append(i)),i.attr("action",t.action),i.attr("method",t.method),"string"==typeof t.data){var n=t.data.split("&");t.data={};for(var o=0;o<n.length;o++){var a=n[o];if(-1!=a.indexOf("=")){var s=a.split("=");t.data[s[0]]=s[1]}}}for(var r in t.data)i.append('<input type="text" name="'+r+'" value="'+t.data[r]+'"/>');return t.form&&t.form.find("[name]").each(function(t,e){i.append($(e).clone())}),i.submit(),i.html(""),!0}},RSF.regist("Model"),Model=function(t,e,i){if((!t||t.length<1)&&(!e||e.length<1))return!1;this.obj=t,this.targetObj=e||$(this.obj.attr("data-model")),this.closer=this.targetObj.find('[role="closer"]'),this.mask=$("body").find(".mask"),this.initDom(),this.initEvent(i)},Model.prototype={initDom:function(){this.mask.length<1&&($("body").append('<div class="mask"></div>'),this.mask=$(".mask"))},initEvent:function(t){var e=this;this.obj&&this.obj.click(function(){e.show()});var i=function(){e.hide()};t||this.mask.click(i),this.closer.click(i)},show:function(){this.mask.show(),this.mask.after(this.targetObj),this.position(),this.targetObj.show(),this.showen()},hide:function(){this.mask.hide(),this.targetObj.hide(),this.hidden()},position:function(){var t=this.targetObj.width(),e=this.targetObj.height();this.targetObj.css({"margin-left":"-"+t/2+"px","margin-top":"-"+e/2+"px"})}},Model.prototype.hidden=function(t){t&&(this.hidden=t)},Model.prototype.showen=function(t){t&&(this.showen=t)},RSF.regist("MsgTip"),MsgTip=function(t){this.tipDom=$(".msgtip"),this.css=t,this.__initDom()},MsgTip.prototype={__defaultCss:{position:"fixed",top:"35%",left:"50%",padding:"15px 25px",textAlign:"center",borderRadius:"10px",color:"#ffffff",background:'url("//static.pacra.cn/shuidi/images/bg_black50.png")',display:"none",zIndex:99},__initDom:function(){0===this.tipDom.length&&(this.tipDom=$('<div class="msgtip"></div>'),$("body").append(this.tipDom)),this.tipDom.css(this.__defaultCss),this.css&&this.tipDom.css(this.css)},show:function(t,e){this.tipDom.html(t).show(),clearTimeout(this.timeout),this.timeout=setTimeout(function(){$(".msgtip").fadeOut(),e&&e()},2e3)}},RSF.regist("SimplePage"),String.prototype.format=function(){var t=arguments;return this.replace(/\{(\d+)\}/g,function(e,i){return t[i]})},SimplePage=function(menuDom,fnFormatItem){!menuDom||menuDom.length<1||(this.menuDom=menuDom,this.parent=this.menuDom.parent(),this.modelDom=this.parent.find("[data-model]"),this.pageCfg=eval("("+(this.menuDom.attr("data-config")||"{}")+")"),this.formatItem=fnFormatItem,this.initPageMenus())},SimplePage.prototype={initPageMenus:function(){var t=this,e={npage:1,spage:0,total:0,ping:2};for(var i in e)void 0===this.pageCfg[i]&&(this.pageCfg[i]=e[i]);var n=this.pageCfg.npage-this.pageCfg.ping,o=this.pageCfg.npage+this.pageCfg.ping;n<1&&(o+=1-n,n=1),o=o>this.pageCfg.spage?this.pageCfg.spage:o;var a='<a class="page-item" data-page="{0}" href="javascript:void(0)">{1}</a>',s="";s+=a.format(this.pageCfg.npage-1,this.pageCfg.lastPage||"<");for(var r=n;r<=o;r++)s+=a.format(r,r);s+=a.format(this.pageCfg.npage+1,this.pageCfg.nextPage||">"),this.menuDom.html(this.pageCfg.spage<2?"":s),this.menuDom.find('[data-page="'+this.pageCfg.npage+'"]').addClass("active"),this.menuDom.children().click(function(e){var i=$(e.currentTarget).attr("data-page");t.go(i)})},go:function(t){(t=Number(t))<1||t>this.pageCfg.spage||(this.pageCfg.url?location.href=this.setParams(this.pageCfg.url,"npage",t):(this.pageCfg.ajax=this.pageCfg.ajax||location.href,this.loadData(t)))},loadError:function(t){console.info("加载分页数据异常: "+t)},loadData:function(t){var e=this.pageCfg.ajax;if(!(!e||t<1||t>this.pageCfg.spage)){var i=this;$.getJSON(e,{npage:t},function(e){i.loadDataBack(t,e)},"json")}},loadDataBack:function(page,result){var modelHTML=this.modelDom.clone().removeAttr("data-model")[0].outerHTML;if("string"==typeof(result=result||{message:"返回值为空"})&&(result=eval("("+result+")")),0===result.status){this.modelDom.siblings().remove();for(var i=0;i<result.data.length;i++)this.modelDom.before(this.formatItem(i,modelHTML,result.data[i],page));this.pageCfg.npage=page,this.initPageMenus()}else this.loadError(result.message)},setParams:function(t,e,i){if(t&&e&&i){for(var n=t.split(/=|\?|&/g),o=0;o<n.length;o++)n[o]===e&&n[o+1];return t.join("")}}},RSF.regist("Shuidi.Detail.OperatingStatus"),Shuidi.Detail.OperatingStatus=function(){},Shuidi.Detail.OperatingStatus.prototype={init:function(){this.biddModel=new Model($(".tender-detail"),$(".bidding-popup"));var t="/company/operate-"+$("#data_company_name_digest").val()+".html";$(document).ready(function(){$.getJSON(t,{action:"page_company_tender"},function(e){e.update_date?(this.addContData(e,$(".tender"),"tender",t+"?action=page_company_tender"),$(".tender-no-data").hide(),$(".tender-cont-in").show()):($(".tender-no-data").show(),$(".tender-cont-in").hide())}.bind(this))}.bind(this)),$(".tender-get-new,.tender-no-data a").click(function(){$.getJSON(t,{action:"get_api_company_tender"},function(e){1==e.status||0==e.status?$.getJSON(t,{action:"page_company_tender"},function(e){this.addContData(e,$(".tender"),"tender",t+"?action=page_company_tender"),$(".tender-no-data").hide(),$(".tender-cont-in").show(),$(".get-latest").html("获取成功").show(),setTimeout(function(){$(".get-latest").hide()},1e3)}.bind(this)):($(".get-latest").html("请重新获取").show(),setTimeout(function(){$(".get-latest").hide()},1e3))}.bind(this))}.bind(this)),$(".license-get-new,.license-no-data a").click(function(){$.getJSON(t,{action:"get_api_license"},function(e){0==e.status||2==e.status?$.getJSON(t,{action:"page_license"},function(e){this.addContData(e,$(".license"),"license",t+"?action=page_license"),$(".license-no-data").hide(),$(".license-cont-in").show(),$(".get-latest").html("获取成功").show(),setTimeout(function(){$(".get-latest").hide()},1e3)}.bind(this)):($(".get-latest").html("请重新获取").show(),setTimeout(function(){$(".get-latest").hide()},1e3))}.bind(this))}.bind(this)),this.initPages(),this.tenderEvent(),this.getLicenseMoreDetail()},initPages:function(){new SimplePage($("#licensePage"),function(t,e,i,n){var o="";return i.id&&(o='<a href="javascript:;"  class="license-get-detail" data-detail-id="'+i.id+'" data-detail-nid="'+(3*(n-1)+t+1)+'">查看更多</a>'),$(e.format(3*(n-1)+t+1,i.xk_xmmc,i.xk_jzq,i.xk_nr,o))}.bind(this)),new SimplePage($("#investPage"),function(t,e,i){var n=$(e.format(i));return PluginShuidiCompanyHeader.encodeUrl(n.find("a")),n}),new SimplePage($("#baodaoPage"),function(t,e,i){var n=$(e.format(i.news_image_url,new Date(i.news_time).format("yyyy-MM-dd"),i.news_title,i.news_sitename));return PluginShuidiCompanyHeader.encodeUrl(n.find("a")),n}),new SimplePage($("#taxIllegalPage"),function(t,e,i){return $(e.format(i.case_type,i.tax_year,i.handle_info))}),new SimplePage($("#debtinfoPage"),function(t,e,i){return $(e.format(i.debt_name?i.debt_name:"",i.debt_money?i.debt_money:"",i.publish_date?i.publish_date:""))}),new SimplePage($("#taxinfoPage"),function(t,e,i){return $(e.format(i.credit_year,i.tax_code,i.credit_rank,i.tax_admin_branch,i.province))})},scrollBar:function(){$(".tax-illegal-info").ready(function(){$(".overflow-scroll").slimScroll({height:"100%",color:"#d7d7d7",alwaysVisible:!0,opacity:1})})},addLicenseNul:function(t){$(".license-content").find("[data-model]").siblings().remove(),$(".license-content").append('<tr> <td class="license-code"><span class="no-found">内容尚未查见</span></td><td class="license-cont"><span class="no-found">内容尚未查见</span></td><td class="license-date"><span class="no-found">内容尚未查见</span></td><td class="license-result"><span class="no-found">内容尚未查见</span></td><td class="license-more"></td></tr>')},addTenderNul:function(t){$(".tender-content").find("[data-model]").siblings().remove(),$(".tender-content").append('<tr> <td style="width: 450px;"><span class="no-found">内容尚未查见</span></td><td><span class="no-found">内容尚未查见</span></td><td><span class="no-found">内容尚未查见</span></td><td><span class="no-found">内容尚未查见</span></td></tr>')},addLicenseCont:function(t,e){for(var i="",n=0;n<t.data.length;n++)i+='<tr>                                <td class="license-code">'+(3*(e-1)+n+1)+'</td>                                <td class="license-cont">'+(t.data[n].xk_xmmc?t.data[n].xk_xmmc:'<span class="cannot-see">内容尚未查见</span>')+'</td>                                <td class="license-date">'+(t.data[n].xk_jzq?t.data[n].xk_jzq:'<span class="cannot-see">内容尚未查见</span>')+'</td>                                <td class="license-result">'+(t.data[n].xk_nr?t.data[n].xk_nr:'<span class="cannot-see">内容尚未查见</span>')+'</td>                                <td class="license-more">'+(t.data[n].id?'<a href="javascript:;"  class="license-get-detail" data-detail-id="'+t.data[n].id+'" data-detail-nid="'+(3*(e-1)+n+1)+'">查看更多</a>':'<span class="cannot-see">内容尚未查见</span>')+"</td>                               </tr>";$(".license-content").find("[data-model]").siblings().remove(),$(".license-content").append(i)},addTenderCont:function(t,e){for(var i="",n=0;n<t.data.length;n++)i+='<tr>                                <td style="width: 450px;"><a class="tender-detail" onclick="return false;" href="javascript:;" data-apiToken="'+t.data[n].apiToken+'" data-timestamp="'+t.data[n].timestamp+'" data-url="'+t.data[n].page_url+'">'+(t.data[n].title?t.data[n].title:'<span class="cannot-see">内容尚未查见</span>')+"</a></td>                                <td>"+(t.data[n].pubdate?t.data[n].pubdate:'<span class="cannot-see">内容尚未查见</span>')+"</td>                                <td>"+(t.data[n].provinceName?t.data[n].provinceName:'<span class="cannot-see">内容尚未查见</span>')+"</td>                                <td>"+(t.data[n].channelName?t.data[n].channelName:'<span class="cannot-see">内容尚未查见</span>')+"</td>                               </tr>";$(".tender-content").find("[data-model]").siblings().remove(),$(".tender-content").append(i)},addContData:function(t,e,i,n){if(t.total>0){var o={npage:t.npage,spage:t.spage,total:t.total,ajax:n};if(e.find(".page").attr("data-config",JSON.stringify(o)),"tender"==i){this.addTenderCont(t,1),$(".tender-neck-count").html(t.total);new SimplePage($("#tenderPage"),function(t,e,i){return $(e.format(i.title,i.pubdate,i.provinceName,i.channelName,i.apiToken,i.timestamp,i.page_url))}.bind(this))}if("license"==i){this.addLicenseCont(t,1),$(".license-neck-count").html(t.total);new SimplePage($("#licensePage"),function(t,e,i,n){var o="";return i.id&&(o='<a href="javascript:;"  class="license-get-detail" data-detail-id="'+i.id+'" data-detail-nid="'+(3*(n-1)+t+1)+'">查看更多</a>'),$(e.format(3*(n-1)+t+1,i.xk_xmmc,i.xk_jzq,i.xk_nr,o))}.bind(this))}}else"tender"==i&&(this.addTenderNul(t),$(".tender-neck-count").html("")),"license"==i&&(this.addLicenseNul(t),$(".license-neck-count").html(""));e.find(".update-date-time").html(t.update_date),e.find(".get-new-p").show(),e.find(".application-view-btn").attr("total",t.total)},tenderEvent:function(){$(".tender-detail").live("click",function(t){$(".bidding-popup").show(),$(".mask").show()})},getLicenseMoreDetail:function(){$(".license-get-detail").live("click",function(t){var e=$(t.currentTarget);this.loadLDetail(e.attr("data-detail-id"),e.attr("data-detail-nid")),new Model(e,$(".license-detail")).show()}.bind(this))},loadLDetail:function(t,e){$(".license-detail-tb ").hide(),$.getJSON("/company/operate-"+$("#data_company_name_digest").val()+".html",{action:"get_license_info",id:t},function(t){var i=t.data;if(0==i.length)return void location.reload();var n="";switch(Object.keys(i).forEach(function(t){i[t]||(i[t]="内容尚未查见")}),i.xk_zt){case"0":n="正常";break;case"1":n="撤销";break;case"2":n="异议";break;case"3":n="其他";break;case"内容尚未查见":n="内容尚未查见"}var o='<table class="table1" cellpadding="0"><tr><td class="t1-wt1 t-bg">序号</td><td>'+e+'</td></tr><tr><td class="t1-wt1 t-bg">项目名称</td><td>'+i.xk_xmmc+'</td> </tr><tr><td class="t1-wt1 t-bg">决定文书号</td><td>'+i.xk_wsh+'</td> </tr><tr><td class="t1-wt1 t-bg">审批类别</td><td>'+i.xk_splb+'</td> </tr><tr><td class="t1-wt1 t-bg">许可机构</td><td>'+i.xk_xzjg+'</td> </tr><tr><td class="t1-wt1 t-bg">许可状态</td><td>'+n+'</td> </tr><tr><td class="t1-wt1 t-bg">许可决定日期</td><td>'+i.xk_jdrq+'</td> </tr><tr><td class="t1-wt1 t-bg">许可截至日期</td><td>'+i.xk_jzq+'</td> </tr><tr><td class="t1-wt1 t-bg">许可内容</td><td>'+i.xk_nr+"</td> </tr></table>";$(".license-detail-tb ").html(""),$(".license-detail-tb").append(o),$(".license-detail-tb ").show()})}},RSF.regist("Plugin.Shuidi.DetailFooter"),Plugin.Shuidi.DetailFooter=function(){},Plugin.Shuidi.DetailFooter.prototype={init:function(){}};var PluginShuidiDetailFooter=new Plugin.Shuidi.DetailFooter;PluginShuidiDetailFooter.init(),RSF.regist("Plugin.Shuidi.DetailHeader"),Plugin.Shuidi.DetailHeader=function(){},Plugin.Shuidi.DetailHeader.prototype={init:function(){initPlaceHolder($(".search-key")),this.request=new SimpleRequest,this.initEvent(),PcUser.createOrShowLoginBox(),this.navigation()},initEvent:function(){$(".top_search .search-key").autocomplete({source:function(t,e){(!/^[a-zA-Z]$/.test($.trim($(".top_search .search-key").val()))||$.trim($(".top_search .search-key").val()).length>1)&&$.getJSON("/",{action:"company_name_notice",company_name:$(".top_search .search-key").val()},function(t){if(t.data&&t.data.company_list){var i=t.data.company_list;i.length>5&&i.splice(5,i.length-5),e($.map(i,function(t){return{label:t.company_name,value:t.company_name,company_no:t.no,desc:t.digest}}))}})},select:function(t,e){$(".circle_top_search").length>0?location.href="/circle/home?digest="+e.item.desc:location.href="/company-"+e.item.desc+".html"},appendTo:$(".top_search")});var t=function(t){t.preventDefault(),$(".nav").find(".search-key").val()?location.href="/pc-search?key="+encodeURIComponent($(".search-key").val()):location.href="/company_extreme_16047328054379265480713921730569.html?pa_from=28"};$(".nav").find(".search-btn").click(t),$("#topSearchForm").submit(t),PcUser.addOnLoginEvent(function(t){$(".userinfo-nologin").addClass("hide"),$(".userinfo").removeClass("hide"),$(".login").hide();RSF.getCookie("user_name");this.loadUserMsg(function(t){$(".userinfo").find(".icon-tip").html(t),t&&!isNaN(Number(t))&&Number(t)>0&&$(".userinfo").find(".icon-tip").css("display","inline-block")})}.bind(this)),PcUser.addOnUnLoginEvent(function(){$(".userinfo-nologin").show(),$(".login").show()}),$(".logout").click(function(t){PcUser.loginOut()}),$(".userinfo").hoverShow($(".userinfo").find(".btns")),$("#shuidiApp").val()&&$(".shuidi-app-btn").show()},loadUserMsg:function(t,e){this.request.ajax({url:"/",data:{action:"get_unread_notice",user_id:RSF.getCookie("shuidi_user_id")},fnSuccess:t})},navigation:function(){$(".triangle-box .pull-down-one").css("bottom",-($(".triangle-box .pull-down-one").height()+24)),$(".triangle-box .pull-down-two").css("bottom",-($(".triangle-box .pull-down-two").height()+24)),$(".triangle-box").hover(function(){$(this).find("ul").show()},function(){$(this).find("ul").hide()}),$(".triangle-box a").hover(function(){$(this).addClass("active")},function(){$(this).removeClass("active")})}};var PluginShuidiDetailHeader=new Plugin.Shuidi.DetailHeader;PluginShuidiDetailHeader.init(),RSF.regist("Shuidi.Pay.WxPay"),Shuidi.Pay.WxPay=function(){this.onPayedSuccess=function(){},this.destoryed=!1},Shuidi.Pay.WxPay.prototype={initWxPay:function(t,e,i,n,o,a){t.html('正在获取微信支付二维码<img src="//static.pacra.cn/images/loading.gif" />'),$.getJSON("/pay",{action:"do_pay",type:e,pay_count:o,pay_type:"weixinpay",no_need_login:i?1:0,invoice:n?1:0,name:a.name,digest:a.digest,t:(new Date).getTime()},function(i){if(i.status>0)return void alert(i.message);var n=i.order_no,o=new Image;o.onload=function(){t.html(""),t.append(o),this.startCheckLoop(n)}.bind(this),o.src="/pay?action=get_weixinpay_qrcode&order_no="+n+"&type="+e}.bind(this))},startCheckLoop:function(t){function e(){this.destroyed||$.ajax({url:"/pay",data:{action:"check_pay_status_by_order",order_no:t,t:(new Date).getTime()},dataType:"json",success:function(i){i.payed?this.paySuccess(t):window.setTimeout(e.bind(this),1e3)}.bind(this),error:function(){window.setTimeout(e.bind(this),1e3)}.bind(this)})}e.call(this)},paySuccess:function(t){this.onPayedSuccess(t)},setOnPaySuccess:function(t){this.onPayedSuccess=t},destroy:function(){this.destroyed=!0}},RSF.regist("Plugin.Shuidi.Pay"),Plugin.Shuidi.Pay=function(t,e,i,n,o){this.type=t,this.callback=i,this.noNeedLogin=e,this.name=o.name||"",this.digest=o.digest,$("#pmt-background").css("height",$(document.body).height()),this.generateContent(),this.wxPay=new Shuidi.Pay.WxPay,$("#pmt-cancel").click(function(){this.wxPay.destroy(),$("#pmt-cancel").unbind("click"),$("#pmt-background").hide(),$("#pmt-main").hide(),n&&n()}.bind(this))},Plugin.Shuidi.Pay.prototype={generateContent:function(){$.getJSON("/pay",{action:"get_pay_info",type:this.type,no_need_login:this.noNeedLogin,t:(new Date).getTime()},function(t){if(0===parseInt(t.status)){var e=t.data;$("#pmt-title").html(e.title),$("#pmt-price").html(e.price),$("#pmt-tip").html(e.desc)}})},pay:function(){this.wxPay.setOnPaySuccess(function(t){$("#pmt-qrcode").html('支付成功!...<img src="//static.pacra.cn/images/loading.gif"/>'),this.callback(t),$("#pmt-background").hide(),$("#pmt-main").hide()}.bind(this)),this.wxPay.initWxPay($("#pmt-qrcode"),this.type,this.noNeedLogin,0,1,{name:this.name,digest:this.digest}),$("#pmt-background").show(),$("#pmt-main").show()}},RSF.regist("Shuidi.FollowWx"),Shuidi.FollowWx=function(){this.onFollowed=function(){}},Shuidi.FollowWx.prototype={init:function(t,e,i){$.getJSON("/shuidiqrcode",{action:"get_pay_by_follow_weixin",data:i,t:(new Date).getTime()},function(e){var i=new Image;i.src=e.ticket_url,this.orderNo=e.order_no,i.onload=function(){t.html(""),t.append(i)},this.startCheckLoop()}.bind(this))},startCheckLoop:function(){function t(){this.destroyed||$.ajax({url:"/shuidiqrcode",data:{action:"check_order_completed",order_no:this.orderNo,t:(new Date).getTime()},dataType:"json",success:function(e){e.completed?this.onFollowed(this.orderNo):window.setTimeout(t.bind(this),1e3)}.bind(this),error:function(){window.setTimeout(t.bind(this),1e3)}.bind(this)})}t.call(this)},setOnFollowed:function(t){this.onFollowed=t}},RSF.regist("Plugin.Shuidi.FreePay"),Plugin.Shuidi.FreePay=function(t,e,i,n,o,a){this.callback=o,this.generateContent(e,i),$("#free-pay-content-title").html(t),$("#free-pay-background").css("height",$(document.body).height()),n&&$("#free-pay-target-portrait").css("background-image","url("+n+")"),this.generateNum(i,1e5),$("#free-pay-cancel").click(function(){$("#free-pay-cancel").unbind("click"),$("#free-pay-background").hide(),$("#free-pay-main").hide(),a&&a()}.bind(this))},Plugin.Shuidi.FreePay.prototype={generateContent:function(t,e){var i;"get_company_total_capital"===e?($("#free-pay-title").html("企业实缴资本查询"),i=["企业实缴资本"]):"get_company_partner_capital"!==e&&"get_company_partner_list_capital"!==e||($("#free-pay-title").html("企业股东出资详情查询"),i=["股东名称","认缴出资额","实缴出资额","股东股份占比"]);for(var n=0,o="";n<i.length;)o+='<p class="free-pay-report-item">'+i[n]+"</p>",n+=1;$("#free-pay-report").html(o);new Shuidi.FollowWx},generateNum:function(t,e){var i=e/1051200,n=876,o=new Date("2017/05/05 00:00:00").getTime(),a=(new Date).getTime(),s=parseInt(i*((a-o)/3e4));n+=s<0?parseInt(date.getHours()+"9"+date.getMinutes()):s,"get_company_total_capital"===t?n+=343:"get_company_partner_capital"!==t&&"get_company_partner_list_capital"!==t||(n+=1442),$("#free-pay-tip-count").html(parseInt(n))},pay:function(){$("#free-pay-background").show(),$("#free-pay-main").show()}},function(){var t=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9","+","/"],e=function(t){for(var e=new Array;t>0;){var i=t%2;t=Math.floor(t/2),e.push(i)}return e.reverse(),e},i=function(t){for(var e=0,i=0,n=t.length-1;n>=0;--n)1==t[n]&&(e+=Math.pow(2,i)),++i;return e},n=function(t,e){for(var i=8-(t+1)+6*(t-1)-e.length;--i>=0;)e.unshift(0);for(var n=[],o=t;--o>=0;)n.push(1);n.push(0);for(var a=0,s=8-(t+1);a<s;++a)n.push(e[a]);for(var r=0;r<t-1;++r){n.push(1),n.push(0);for(var c=6;--c>=0;)n.push(e[a++])}return n},o={encoder:function(o){for(var a=[],s=[],r=0,c=o.length;r<c;++r){var l=o.charCodeAt(r),h=e(l);if(l<128){for(var d=8-h.length;--d>=0;)h.unshift(0);s=s.concat(h)}else l>=128&&l<=2047?s=s.concat(n(2,h)):l>=2048&&l<=65535?s=s.concat(n(3,h)):l>=65536&&l<=2097151?s=s.concat(n(4,h)):l>=2097152&&l<=67108863?s=s.concat(n(5,h)):l>=4e6&&l<=2147483647&&(s=s.concat(n(6,h)))}for(var p=0,r=0,c=s.length;r<c;r+=6){var u=r+6-c;2==u?p=2:4==u&&(p=4);for(var f=p;--f>=0;)s.push(0);a.push(i(s.slice(r,r+6)))}for(var m="",r=0,c=a.length;r<c;++r)m+=t[a[r]];for(var r=0,c=p/2;r<c;++r)m+="=";return m},decoder:function(n){var o=n.length,a=0;"="==n.charAt(o-1)&&("="==n.charAt(o-2)?(a=4,n=n.substring(0,o-2)):(a=2,n=n.substring(0,o-1)));for(var s=[],r=0,c=n.length;r<c;++r)for(var l=n.charAt(r),h=0,d=t.length;h<d;++h)if(l==t[h]){var p=e(h),u=p.length;if(6-u>0)for(var f=6-u;f>0;--f)p.unshift(0);s=s.concat(p);break}a>0&&(s=s.slice(0,s.length-a));for(var m=[],g=[],r=0,c=s.length;r<c;)if(0==s[r])m=m.concat(i(s.slice(r,r+8))),r+=8;else{for(var v=0;r<c&&1==s[r];)++v,++r;for(g=g.concat(s.slice(r+1,r+8-v)),r+=8-v;v>1;)g=g.concat(s.slice(r+2,r+8)),r+=8,--v;m=m.concat(i(g)),g=[]}return m},decoderToStr:function(t){for(var e=this.decoder(t),i="",n=0,o=e.length;n<o;n+=1)i+=String.fromCharCode(e[n]);return i}};window.BASE64=o}(),RSF.regist("Plugin.Shuidi.CompanyHeader"),Plugin.Shuidi.CompanyHeader=function(){this.isPhone=new RegExp(/^1[34578]{1}\d{9}$/),this.netTimer=null,this.timeOut=null,this.attrIndex,this.imgSrc="//static.pacra.cn/shuidi/images/new-detail/net-submit-icon1.png",this.showBlock},Plugin.Shuidi.CompanyHeader.prototype={init:function(){this.msgTip=new MsgTip({marginLeft:"-50px"}),$(".applying-checking").live("click",function(){$(".reason-success-tip-box").show(),$(".mask").show()}),this.domain="www.shuidixy.com",this.digest=$("#data_company_name_digest").val(),this.logined=!1,this.block=!1,this.request=new SimpleRequest,this.initNav(),this.initDom(),this.initEvent(),this.initReportAction(),this.initPartnerEntry(),this.slideInfo($(".info-show"),33),this.slideInfo($(".slide-info"),20),this.initMsgtip(),this.initBtnTip(),this.downloadPdf(),this.applyDownload(),this.applyCheck(),this.checkStaff(),this.initNetSubmit(),this.phoneCodeRequest(),this.identityVerification(),$(".ownership-structure-view").addClass("seeMoreDetail").attr("jump-url","/ownership_structure?base="+encodeURIComponent(BASE64.encoder("digest="+$("#data_company_name_digest").val()))),$(".company-map-view").addClass("seeMoreDetail").attr("jump-url","/company_map?digest="+$("#data_company_name_digest").val()),this.jumpAfterLogin(".seeMoreDetail"),PcUser.addOnLoginEvent(function(t){PinganAna.ready(function(){PinganAna.userViewCompany(t,$(".data-companyname-digest").val())})}),$("#contact-qrcode").attr("src","/mini/api?action=company_get_company_detail_qrcode&digest="+this.digest)},initNav:function(){$("[data-active]").each(function(t,e){var i=$(e).attr("data-active");-1!=location.href.indexOf(i)&&$(e).addClass("active"),$(e).click(function(t){RSF.setCookie("page_scroll_top",$(document).scrollTop(),2e3)})})},initDom:function(){$(document).ready(function(){this.userId=$(".page-off-wall").attr("company-user-id")}.bind(this)),RSF.getCookie("page_scroll_top")&&$(document).scrollTop(RSF.getCookie("page_scroll_top")),$("#scoreBar").css("marginLeft",this.computeScoreBar($("#scoreBar").attr("data-score"))+"%"),$(".model-partner").find("上海凭安征信服务有限公司"===$("#companyName").html()?".off":".on").remove(),this.request.ajax({url:"/shuidiqrcode",data:{digest:this.digest},dataType:"json",fnSuccess:function(t){$(".qrcode-call").find("img").attr("src",t.url)},checkStatus:!1})},initEvent:function(){PcUser.addOnLoginEvent(function(t){this.logined=!0,this.checkUserCollection(function(t){$("#collectionCompany").find(".icon").addClass("icon-fav icon-fav-outline").removeClass(t?"icon-fav-outline":"icon-fav")}),this.checkIsOwner(function(t){0===t.status?($(".tip").removeClass("hide"),$(".comments-outline").find(".btn").removeClass("hide"),$(".no-editor").hide(),$(".edit-power-bt").unbind("click"),$(".edit-power-bt").css("display","inline-block"),$(".edit-power-bt").click(function(){location.href="http://shuidi.cn/power-home-page"}.bind(this))):($(".tip").addClass("hide"),$(".comments-outline").find(".btn").addClass("hide"),this.noCompanyTip())}.bind(this))}.bind(this)),PcUser.addOnUnLoginEvent(function(){this.logined=!1,$(".icon-fav").removeClass("icon-fav").addClass("icon-fav-outline"),this.noCompanyTip(),$(".tip").addClass("hide"),$(".comments-outline").find(".btn").addClass("hide")}.bind(this)),$(".detail-top, .detail-top-vip1").find("[for]").each(function(t,e){var i=$(e);i.hoverShow($(i.attr("for")))}.bind(this)),$(".consult-wx").clickShow($(".consult-wx").siblings("img")),$(".consult-link .close-button").clickShow($(".consult-link")),$(".simple-nav-vip1").find("label").each(function(t,e){$(e).hoverShow($(e).find(".nopower-tip"),1)}),$("[data-model]").each(function(t,e){new Model($(e))}.bind(this)),$("#collectionCompany").live("click",function(t){var e=$(t.currentTarget),i=e.find(".icon"),n=e.siblings("font"),o=e.find("span");i.hasClass("icon-fav")?this.removeUserCollection(function(t){i.addClass("icon-fav-outline").removeClass("icon-fav"),n.html(Number(n.html())-1),o.html(Number(o.html())-1)}):this.addUserCollection(function(t){i.addClass("icon-fav").removeClass("icon-fav-outline"),n.html(Number(n.html())+1),o.html(Number(o.html())+1)})}.bind(this)),$(".apply-download").click(function(){$(".jump-company-detail").show(),$(".mask").show()}.bind(this)),$(".mask").click(function(){$(".popup-box").hide(),$("#certificate").hide(),$(".apply-noauthority-tip-box").hide(),$(".detail-bounced").hide()}.bind(this)),$(".popup-box .close-icon-btn").click(function(){$(".popup-box").hide(),$(".mask").hide()}),$(".simple-nav .dis-inline-block").on("mouseenter",function(t){$(".simple-nav .dis-inline-block").find("ul").css("display","none"),$(t.currentTarget).find("ul").css({display:"block","z-index":"12"}),$(t.currentTarget).find("ul").animate({height:"65px",bottom:"-67px"}),this.attrIndex=$(t.currentTarget).attr("attr-index"),this.showBlock=0}.bind(this)),$(".simple-nav .dis-inline-block").on("mouseleave",function(t){this.showBlock=1,this.timeOut=setTimeout(function(){(this.attrIndex!=$(t.currentTarget).attr("attr-index")||this.showBlock)&&($(t.currentTarget).find("ul").css({display:"none","z-index":"10"}),$(t.currentTarget).find("ul").animate({height:"0",bottom:"0"}))}.bind(this),1e3)}.bind(this)),$(".AAA-certificate").live("click",function(){$(".mask").show(),$("#certificate").show()}),$("#certificate .close").live("click",function(){$(".mask").hide(),$("#certificate").hide()})},downloadPdf:function(){var t=this;$(".can-download").click(function(){if(!t.block){t.block=!0;var e=$(this);e.html("下载中..."),$.getJSON("/company-"+$("#data_company_name_digest").val()+".html",{action:"down_pdf"},function(i){i.data&&(t.timer=setInterval(function(){$.getJSON("/company-"+$("#data_company_name_digest").val()+".html",{action:"is_complete",key:i.data,type:$("#fileKey").val()},function(i){i.data&&(clearInterval(t.timer),location.href=decodeURIComponent(i.data),setTimeout(function(){e.html("免费下载信用报告"),t.block=!1},3e3))})},1e3))})}})},initPartnerEntry:function(){var t=$(".model-partner").find(".on"),e=t.find("input"),i=t.find(".error");t.find("button").click(function(){"168888"===e.val()?location.href="http://"+this.domain+"/company/getPinganCertInfo?code="+e.val():(e.val(""),i.show())}.bind(this)),e.focus(function(){i.hide()})},initReportAction:function(){var t,e=$("#reportForm");new mForm(e).beforeSubmit=function(){return this.checkLogin()&&this.request.form({action:e.attr("action"),form:e,method:e.attr("method")}),$(".report-success").siblings(".model-body").hide(),$(".report-success").show(),!1}.bind(this),$(".reportCompanyBtn").click(function(i){this.checkLogin()&&(e[0].reset(),e.parent().show(),$(".report-success").hide(),(t=t||new Model($(i.currentTarget),$(".model-report"))).show())}.bind(this)),e.find(".btn-submit").click(function(){e.submit()}.bind(this))},slideInfo:function(t,e){t.append("<br/>").append(t.html());var i=Math.ceil(t.height()/e)-1,n=0,o=function(){n===Math.ceil(i/2)?(t.css("top","0"),n=1):n++,t.animate({top:"-"+n*e+"px"})};window.setInterval(o,5e3)},addUserCollection:function(t){this.checkLogin()&&this.request.ajax({url:"/user",data:{action:"follow",company_name_digest:this.digest},fnSuccess:t})},removeUserCollection:function(t){this.checkLogin()&&this.request.ajax({url:"/user",data:{action:"cancel_follow",digest:this.digest},fnSuccess:t})},checkUserCollection:function(t){this.request.ajax({url:"/user",data:{action:"is_follow_company",company_name_digest:this.digest},fnSuccess:t})},checkLogin:function(){if(this.logined)return!0;PcUser.showLoginBox()},computeScoreBar:function(t){return t=Number(t),isNaN(t)||t<350?-5:t>950?100:t<550?(t-350)/200*20:t>700?80+(t-700)/250*20:20+(t-550)/150*60},noCompanyTip:function(){$(".no-editor").show(),$(".edit-power-bt").hide()},checkIsOwner:function(t){this.request.ajax({url:"/",data:{action:"is_owner_uid",user_id:RSF.getCookie("shuidi_user_id"),digest:$("#data_company_name_digest").val()},fnSuccess:t,checkStatus:!1})},initBtnTip:function(t){if(!((t=t&&t.length>0?t:$("[data-name]")).length<1)){var e=$('<div class="tip-title tip-btn"><span class="vi"><label></label></span><span class="text-success">“精准查询” </span><span class="content"></span></div>'),i={"查简历":"的简历信息","查官司":"涉及的司法信息","查全部公司":"投资或任职的全部公司","查对外投资及任职":"投资或任职的全部公司"};t.hoverShow(e,1),t.mouseenter(function(t){var n=$(t.currentTarget);n.find(".tip-btn").remove();var o=n.attr("data-name")+'&nbsp;<font class="text-silver">'+i[n.text().replace(/\s+/g,"")]+"</font>";e.find(".content").html(o),e.css("left",n[0].offsetWidth+10+"px"),n.append(e),e.show()})}},encodeUrl:function(t){t&&t.length>0&&t.filter("[href]").each(function(t,e){-1===$(e).attr("href").indexOf("{")&&$(e).attr("href",encodeURI($(e).attr("href")))})},initMsgtip:function(t){(t=t||$("[data-msgtip]")).click(function(t){return t.preventDefault(),t.stopPropagation(),this.msgTip.show($(t.currentTarget).attr("data-msgtip")||"企业主设置不对外公示"),!1}.bind(this))},applyDownload:function(){var t=$(".apply-download-error-tip");$(".apply-download-reason-box").live("click",function(){PcUser.addOnUnLoginEvent(function(){PcUser.showLoginBox()}.bind(this)),PcUser.addOnLoginEvent(function(){$(".apply-download-reason").show(),$(".mask").show();var e=$(this).attr("apply-data");$(".cancel-apply-download-btn").live("click",function(){$("#apply-download-txt").val(""),$(".apply-download-reason").hide(),$(".mask").hide()}),$("#apply-download-txt").on("input",function(){$(this).val().replace(/\s+/g,"").length>300?(t.html("最多允许300字"),t.show()):t.hide()}),$("#apply-download-txt").focus(function(){t.hide()}).blur(function(){var e=$(this).val().replace(/\s+/g,"");e.length>300&&(t.html("最多允许300字"),t.show()),0==e.length?(t.html("下载事由不能为空"),t.show()):t.hide()}),$("#apply_download_btn").off().on("click",function(){var i=$("#apply-download-txt").val().replace(/\s+/g,"");if(i.length>300&&(t.html("最多允许300字"),t.show()),0==i.length)t.html("下载事由不能为空"),t.show();else if(0!=i.length&&i.length<=300){var n={action:"request_info",company_name_digest:$("#data_company_name_digest").val(),key:e,reason:i};$.getJSON("/out-api",n,function(t){0==t.status&&($(".apply-download-reason").hide(),$(".reason-success-tip-box").show(),$("#apply-download-txt").val(""),$(".apply-download-reason-box").removeClass("apply-download-reason-box").addClass("apply-downloading"))})}})}.bind(this))}),$(".reason-success-btn").live("click",function(){$(".reason-success-tip-box").hide(),$(".mask").hide()}),$(".apply-downloading").live("click",function(){$(".reason-success-tip-box").show(),$(".mask").show()}),$(".mask").click(function(){$("#apply-download-txt").val(""),$(".apply-download-reason").hide(),$(".mask").hide(),t.hide(),$(".reason-success-tip-box").hide(),$(".apply-nodata-tip-box").hide()})},applyCheck:function(){var t=$(".apply-error-tip");$(".application-view-btn").live("click",function(){var e=$(this);PcUser.addOnUnLoginEvent(function(){PcUser.showLoginBox()}.bind(this)),PcUser.addOnLoginEvent(function(){var i=$(this).attr("apply-data");0==$(this).attr("total")?($(".apply-nodata-tip-box").show(),$(".mask").show(),$(".nodata-close-btn").click(function(){$(".apply-nodata-tip-box").hide(),$(".mask").hide()})):($(".apply-check-reason").show(),$(".mask").show(),$(".cancel-apply-btn").live("click",function(){$("#apply-check-txt").val(""),$(".apply-check-reason").hide(),$(".mask").hide(),t.hide()}),$("#cancel_apply_check_btn").live("click",function(){$("#apply-check-txt").val(""),$(".apply-check-reason").hide(),$(".mask").hide(),t.hide()}),$("#apply-check-txt").on("input",function(){$(this).val().replace(/\s+/g,"").length>300?(t.html("最多允许300字"),t.show()):t.hide()}),$("#apply-check-txt").focus(function(){t.hide()}).blur(function(){var e=$(this).val().replace(/\s+/g,"");e.length>300&&(t.html("最多允许300字"),t.show()),0==e.length?(t.html("查看事由不能为空"),t.show()):t.hide()}),$("#apply_check_btn").off().on("click",function(){var n=$("#apply-check-txt").val().replace(/\s+/g,"");if(n.length>300&&(t.html("最多允许300字"),t.show()),0==n.length)t.html("查看事由不能为空"),t.show();else if(0!=n.length&&n.length<=300){var o={action:"request_info",company_name_digest:$("#data_company_name_digest").val(),key:i,reason:n};$.getJSON("/out-api",o,function(t){0==t.status&&($(".apply-check-reason").hide(),$(".reason-success-tip-box").show(),$("#apply-check-txt").val(""),"股权结构"!=e.html()&&"企业图谱"!=e.html()&&"发现企业之间隐藏的风险"!=e.html()&&"发现企业间的隐藏关系"!=e.html()?(e.parent().html("<span>查看申请中</span>"),e.parents(".danger-info")&&$(".danger-yun a").removeClass("application-view-btn").addClass("applying-checking")):"发现企业之间隐藏的风险"==e.html()?(e.addClass("applying-checking").removeClass("application-view-btn"),$(".danger-info .cover-layer div").html("<span>查看申请中</span>")):"企业图谱"==e.html()?(e.addClass("applying-checking").removeClass("application-view-btn"),$("#relation_chart a").removeClass("application-view-btn").addClass("applying-checking")):"发现企业间的隐藏关系"==e.html()?(e.addClass("applying-checking").removeClass("application-view-btn"),$("#relation_chart_header").removeClass("application-view-btn").addClass("applying-checking")):e.attr("class","applying-checking"))})}}))}.bind(this)),$(".mask").click(function(){$("#apply-check-txt").val(""),$(".apply-check-reason").hide(),$(".mask").hide(),t.hide(),$(".reason-success-tip-box").hide(),$(".apply-nodata-tip-box").hide()})})},initNetSubmit:function(){$('.check-popup input[type="text"]').on("input",function(t){$.trim($(t.currentTarget).val())&&$("."+$(t.currentTarget).attr("judge-msg")).hide()}),$("#phoneNum").on("input",function(t){this.isPhone.test($.trim($("#phoneNum").val()))&&$(".phone-num-msg").hide()}.bind(this)),$(".close-check-btn,.net-submit-cancle-btn,.mask").click(function(){$(".msg").hide(),$(".check-popup").find('[type="text"]').val(""),$(".popup-position").hide(),$(".mask").hide(),clearInterval(this.netTimer),$(".phone-position").removeClass("disabled"),$(".phone-position").addClass("phone-code-btn"),$(".phone-position").html("获取验证码"),$(".img-code-btn").attr("src",this.imgSrc)}.bind(this)),$(".see-net-sub").live("click",function(){PcUser.addOnUnLoginEvent(function(){PcUser.showLoginBox()}.bind(this)),PcUser.addOnLoginEvent(function(){$("#companyOwner").val()?location.href="/net/submit?action=submit_info&id="+$(this).attr("data-id")+"&digest="+$("#data_company_name_digest").val():($(".tip-popup").show(),$(".mask").show())}.bind(this))}),$(".check-popup .img-code-btn").click(function(){$("#phoneCode").val(""),$(".check-popup .img-code-btn").attr("src","/checkcode?type=real_name_verification&time="+new Date+Math.random())}.bind(this))},phoneCodeRequest:function(){$(".phone-code-btn").live("click",function(){if(this.isPhone.test($.trim($("#phoneNum").val())))if($(".phone-num-msg").hide(),$.trim($("#graphicCode").val())){$(".graphic-msg").hide();var t={action:"get_verification_code",type:10007,img_code_type:"real_name_verification",phone:$("#phoneNum").val(),img_code:$("#graphicCode").val()};$.post("/pcuser-tologin",t,function(t){if(0==t.status){$(".phone-position").removeClass("phone-code-btn"),$(".phone-position").addClass("disabled");var e=60;$(".phone-position").html(e--),this.netTimer=setInterval(function(){$(".phone-position").html(e--),-1==e&&($(".phone-position").removeClass("disabled"),$(".phone-position").addClass("phone-code-btn"),$(".phone-position").html("获取验证码"),clearInterval(this.netTimer))}.bind(this),1e3)}else 999==t.status?($(".graphic-msg").show(),$(".check-popup .img-code-btn").click()):$(".msg-all").html(t.message).show()}.bind(this))}else $(".graphic-msg").show();else $(".phone-num-msg").show()}.bind(this))},identityVerification:function(){$(".net-submit-sure-btn").click(function(){if(this.infoCorrect($.trim($("#realName").val()),".name-msg"),this.infoCorrect($.trim($("#idNumber").val()),".id-msg"),this.infoCorrect(this.isPhone.test($.trim($("#phoneNum").val())),".phone-num-msg"),this.infoCorrect($.trim($("#phoneCode").val()),".phone-code-msg"),$.trim($("#realName").val())&&$.trim($("#idNumber").val())&&this.isPhone.test($.trim($("#phoneNum").val()))&&$.trim($("#phoneCode").val())){var t={action:"validate",name:$.trim($("#realName").val()),identity_card_number:$.trim($("#idNumber").val()),phone:$.trim($("#phoneNum").val()),code:$.trim($("#phoneCode").val())};$.post("/user/certification",t,function(t){0==t.status?location.href="/net/submit?digest="+$("#data_company_name_digest").val():7==t.status?$(".name-msg").show():8==t.status?$(".phone-num-msg").show():9==t.status?$(".id-msg").show():15010==t.status?$(".phone-code-msg").show():$(".msg-all").html(t.message).show(),$(".check-popup .img-code-btn").click()})}}.bind(this))},infoCorrect:function(t,e){t?$(e).hide():$(e).show()},checkStaff:function(){$(".check-resume").live("click",function(t){var e="name="+$(t.currentTarget).attr("data-name")+"&digest="+$("#data_company_name_digest").val()+"&position="+$(t.currentTarget).attr("position");this.queryResume("/owner_resume",e,".detail-resume",t)}.bind(this)),$(".check-precise").live("click",function(t){var e="name="+$(t.currentTarget).attr("data-name")+"&digest="+$("#digest").val()+"&position="+$(t.currentTarget).attr("position");this.queryResume("/owner_precise_query",e,".detail-invest",t)}.bind(this)),$(".bounced-icon").click(function(){$(".detail-bounced").hide(),$(".mask").hide()})},queryResume:function(t,e,i,n){PcUser.addOnUnLoginEvent(function(){PcUser.showLoginBox()}.bind(this)),PcUser.addOnLoginEvent(function(){if($("#companyOwner").val())setTimeout(function(){location.href=t+"?base="+encodeURIComponent(BASE64.encoder(e))},0);else{var o=$(n.currentTarget);setTimeout(function(){$(i+" .name").each(function(t,e){$(e).html(o.attr("data-name"))}),$(i).show(),$(".mask").show()},300)}}.bind(this))},jumpAfterLogin:function(t){$(t).die().live("click",function(){PcUser.addOnUnLoginEvent(function(){PcUser.showLoginBox()}.bind(this)),PcUser.addOnLoginEvent(function(){var t=$(this).attr("jump-url");window.open(t)}.bind(this))})}};var PluginShuidiCompanyHeader=new Plugin.Shuidi.CompanyHeader;$("#data_company_name_digest").val()&&PluginShuidiCompanyHeader.init(),RSF.regist("Plugin.Shuidi.DetailMoreNeck"),Plugin.Shuidi.DetailMoreNeck=function(){},Plugin.Shuidi.DetailMoreNeck.prototype={init:function(){$.getJSON("/annual-reports?digest="+$("#digest").val(),{action:"get_all_year"},function(t){0==t.status&&$("#reportCount").html(t.total)}),$.getJSON("/company/operate-"+$("#digest").val()+".html",{action:"get_count_company_tender"},function(t){0==t.status&&t.data>0&&$(".tender-neck-count").html(t.data)}),this.neckMenu(),this.initIconPerson(),this.backTop(),this.getInvestCount(),this.relationCompany(),$(".neck-more").scrollFixed(),$(".company_export").length>0&&PinganAna.fire(107),$("#wmbImg").length>0&&PinganAna.fire(111)},relationCompany:function(){new SimplePage($("#relationCompanyPage"),function(t,e,i){return e.format(i.url,i.company_name)}).go(1)},neckMenu:function(){var t=$(".neck-more .tip-title"),e=$(".neck-more").find("li").filter(".text-silver");e.hoverShow(t,1),e.mouseenter(function(e){var i=$(e.currentTarget).find("a");t.css("left",i.width()+20+"px"),i.append(t)}),$(".neck-item").each(function(t,e){var i=$(e).attr("data-href");if(!i)return $(e).find(".title-lg").addClass("text-silver"),void $(e).find("a").attr("href","javascript:void(0)");-1==location.href.indexOf(i)?$(e).click(function(t){$(t.currentTarget).attr("data-href")&&(location.href=$(t.currentTarget).attr("data-href"))}):$(e).find(".title-lg").addClass("text-success")});var i={open:function(){$(".neck-more").addClass("neck-more-active"),$(".neck-more ul").each(function(t,e){$(e).children().eq(0).siblings().show()})},close:function(){$(".neck-more").removeClass("neck-more-active"),$(".neck-more ul").each(function(t,e){$(e).children().eq(0).siblings().hide()})}};i.close(),$(".neck-more").on({mouseenter:i.open,mouseleave:i.close}),$(".turn-menu").on({click:function(t){$(".neck-more").hasClass("neck-more-active")?i.close():i.open()}})},initIconPerson:function(t){(!t||t.length<1)&&(t=$(".icon-person")),t.each(function(t,e){var i=$(e).attr("data-iconname");if(i&&-1==i.indexOf("{")){var n=(i=i.split("")).sort();$(e).html(n[0])}})},backTop:function(){$("#backTop").click(function(){window.scrollTo(0,0)})},getInvestCount:function(){var t=$("#company_name_container_tmp").val();$.getJSON("/?action=get_invest_count&company_name="+t,{},function(t){t&&0===t.status&&$("#outinvestCount").html(t.data||"")})}};var PluginShuidiDetailMoreNeck=new Plugin.Shuidi.DetailMoreNeck;PluginShuidiDetailMoreNeck.init(),RSF.regist("Plugin.Shuidi.DetailMoreRight"),Plugin.Shuidi.DetailMoreRight=function(){},Plugin.Shuidi.DetailMoreRight.prototype={init:function(){}};var pluginShuidiDetailMoreRight=new Plugin.Shuidi.DetailMoreRight;pluginShuidiDetailMoreRight.init(),RSF.regist("Plugin.Shuidi.CompanyFooter"),Plugin.Shuidi.CompanyFooter=function(){},Plugin.Shuidi.CompanyFooter.prototype={init:function(){}};var PluginShuidiCompanyFooter=new Plugin.Shuidi.CompanyFooter;PluginShuidiCompanyFooter.init();